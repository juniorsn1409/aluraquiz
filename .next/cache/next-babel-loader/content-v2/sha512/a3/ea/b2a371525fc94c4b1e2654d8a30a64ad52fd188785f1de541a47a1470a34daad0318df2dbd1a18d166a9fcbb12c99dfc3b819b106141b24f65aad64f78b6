{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\aluraquiz-startrek\\\\src\\\\screens\\\\Quiz\\\\index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react'; //import { Lottie } from '@crello/react-lottie';\n\nimport Widget from '../../components/Widget';\nimport Loading from '../../components//Loading';\nimport QuizLogo from '../../components/QuizLogo';\nimport QuizBackground from '../../components/QuizBackground';\nimport QuizContainer from '../../components/QuizContainer';\nimport AlternativesForm from '../../components/AlternativeForm';\nimport Button from '../../components/Button';\nimport BackLinkArrow from '../../components/BlackLinkArrow'; //import loadingAnimation from './animations/loading.json';\n\nfunction ResultWidget(_ref) {\n  var _this = this;\n\n  var results = _ref.results;\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, \"Tela de Resultado:\"), __jsx(Widget.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, \"Voc\\xEA acertou\", ' ', results.filter(function (x) {\n    return x;\n  }).length, ' ', \"perguntas\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, results.map(function (result, index) {\n    return __jsx(\"li\", {\n      key: \"result__\".concat(result),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }\n    }, \"#\", index + 1, ' ', \"Resultado:\", result === true ? 'Acertou' : 'Errou');\n  }))));\n}\n\n_c = ResultWidget;\n\nfunction LoadingWidget() {\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Carregando...\"), __jsx(Widget.Content, {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  })));\n}\n\n_c2 = LoadingWidget;\n\nfunction QuestionWidget(_ref2) {\n  _s();\n\n  var _this2 = this;\n\n  var question = _ref2.question,\n      questionIndex = _ref2.questionIndex,\n      totalQuestions = _ref2.totalQuestions,\n      _onSubmit = _ref2.onSubmit,\n      addResult = _ref2.addResult;\n\n  var _React$useState = React.useState(undefined),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      selectedAlternative = _React$useState2[0],\n      setSelectedAlternative = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isQuestionSubmited = _React$useState4[0],\n      setIsQuestionSubmited = _React$useState4[1];\n\n  var questionId = \"question__\".concat(questionIndex);\n  var isCorrect = selectedAlternative === question.answer;\n  var hasAlternativeSelected = selectedAlternative !== undefined;\n  return __jsx(Widget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, __jsx(Widget.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(BackLinkArrow, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), \" \", \"Pergunta \".concat(questionIndex + 1, \" de \").concat(totalQuestions))), __jsx(\"img\", {\n    alt: \"Descri\\xE7\\xE3o\",\n    style: {\n      width: '100%',\n      height: '150px',\n      objectFit: 'cover'\n    },\n    src: question.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), __jsx(Widget.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, question.title), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, question.description), __jsx(AlternativesForm, {\n    onSubmit: function onSubmit(infosDoEvento) {\n      infosDoEvento.preventDefault();\n      setIsQuestionSubmited(true);\n      setTimeout(function () {\n        addResult(isCorrect);\n\n        _onSubmit();\n\n        setIsQuestionSubmited(false);\n        setSelectedAlternative(undefined);\n      }, 3 * 1000);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, question.alternatives.map(function (alternative, alternativeIndex) {\n    var alternativeId = \"alternative__\".concat(alternativeIndex);\n    var alternativeStatus = isCorrect ? 'SUCCESS' : 'ERROR';\n    var isSelected = selectedAlternative === alternativeIndex;\n    return __jsx(Widget.Topic, {\n      as: \"label\",\n      key: alternativeId,\n      htmlFor: alternativeId,\n      \"data-selected\": isSelected,\n      \"data-status\": isQuestionSubmited && alternativeStatus,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, __jsx(\"input\", {\n      style: {\n        display: 'none'\n      },\n      id: alternativeId,\n      name: questionId,\n      onChange: function onChange() {\n        return setSelectedAlternative(alternativeIndex);\n      },\n      type: \"radio\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }), alternative);\n  }), __jsx(Button, {\n    type: \"submit\",\n    disabled: !hasAlternativeSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, \"Confirmar\"), isQuestionSubmited && isCorrect && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 47\n    }\n  }, \"Voc\\xEA acertou!\"), isQuestionSubmited && !isCorrect && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 48\n    }\n  }, \"Voc\\xEA errou!\"))));\n}\n\n_s(QuestionWidget, \"gOPL1EmksK8wUP52KQZyVU1FVK0=\");\n\n_c3 = QuestionWidget;\nvar screenStates = {\n  QUIZ: 'QUIZ',\n  LOADING: 'LOADING',\n  RESULT: 'RESULT'\n};\nexport default function QuizPage(_ref3) {\n  _s2();\n\n  var externalQuestions = _ref3.externalQuestions,\n      externalBg = _ref3.externalBg;\n\n  var _React$useState5 = React.useState(screenStates.LOADING),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      screenState = _React$useState6[0],\n      setScreenState = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      results = _React$useState8[0],\n      setResults = _React$useState8[1];\n\n  var _React$useState9 = React.useState(0),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      currentQuestion = _React$useState10[0],\n      setCurrentQuestion = _React$useState10[1];\n\n  var questionIndex = currentQuestion;\n  var question = externalQuestions[questionIndex];\n  var totalQuestions = externalQuestions.length;\n  var bg = externalBg;\n\n  function addResult(result) {\n    setResults([].concat(_toConsumableArray(results), [result]));\n  }\n\n  React.useEffect(function () {\n    setTimeout(function () {\n      setScreenState(screenStates.QUIZ);\n    }, 1 * 2000);\n  }, []);\n\n  function handleSubmitQuiz() {\n    var nextQuestion = questionIndex + 1;\n\n    if (nextQuestion < totalQuestions) {\n      setCurrentQuestion(nextQuestion);\n    } else {\n      setScreenState(screenStates.RESULT);\n    }\n  }\n\n  return __jsx(QuizBackground, {\n    backgroundImage: bg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }\n  }, __jsx(QuizContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, __jsx(QuizLogo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }), screenState === screenStates.QUIZ && __jsx(QuestionWidget, {\n    question: question,\n    questionIndex: questionIndex,\n    totalQuestions: totalQuestions,\n    onSubmit: handleSubmitQuiz,\n    addResult: addResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }), screenState === screenStates.LOADING && __jsx(LoadingWidget, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 50\n    }\n  }), screenState === screenStates.RESULT && __jsx(ResultWidget, {\n    results: results,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 49\n    }\n  })));\n}\n\n_s2(QuizPage, \"op6a2G6WeNFK4t0JnGKr98IrMhU=\");\n\n_c4 = QuizPage;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ResultWidget\");\n$RefreshReg$(_c2, \"LoadingWidget\");\n$RefreshReg$(_c3, \"QuestionWidget\");\n$RefreshReg$(_c4, \"QuizPage\");","map":{"version":3,"sources":["C:/xampp/htdocs/aluraquiz-startrek/src/screens/Quiz/index.js"],"names":["React","Widget","Loading","QuizLogo","QuizBackground","QuizContainer","AlternativesForm","Button","BackLinkArrow","ResultWidget","results","filter","x","length","map","result","index","LoadingWidget","display","justifyContent","QuestionWidget","question","questionIndex","totalQuestions","onSubmit","addResult","useState","undefined","selectedAlternative","setSelectedAlternative","isQuestionSubmited","setIsQuestionSubmited","questionId","isCorrect","answer","hasAlternativeSelected","width","height","objectFit","image","title","description","infosDoEvento","preventDefault","setTimeout","alternatives","alternative","alternativeIndex","alternativeId","alternativeStatus","isSelected","screenStates","QUIZ","LOADING","RESULT","QuizPage","externalQuestions","externalBg","screenState","setScreenState","setResults","currentQuestion","setCurrentQuestion","bg","useEffect","handleSubmitQuiz","nextQuestion"],"mappings":"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","sourcesContent":["import React from 'react';\r\n//import { Lottie } from '@crello/react-lottie';\r\n\r\nimport Widget from '../../components/Widget';\r\nimport Loading from '../../components//Loading';\r\nimport QuizLogo from '../../components/QuizLogo';\r\nimport QuizBackground from '../../components/QuizBackground';\r\nimport QuizContainer from '../../components/QuizContainer';\r\nimport AlternativesForm from '../../components/AlternativeForm';\r\nimport Button from '../../components/Button';\r\nimport BackLinkArrow from '../../components/BlackLinkArrow';\r\n\r\n//import loadingAnimation from './animations/loading.json';\r\n\r\nfunction ResultWidget({ results }) {\r\n  return (\r\n    <Widget>\r\n      <Widget.Header>\r\n        Tela de Resultado:\r\n      </Widget.Header>\r\n\r\n      <Widget.Content>\r\n        <p>\r\n          Você acertou\r\n          {' '}\r\n          {results.filter((x) => x).length}\r\n          {' '}\r\n          perguntas\r\n        </p>\r\n        <ul>\r\n          {results.map((result, index) => (\r\n            <li key={`result__${result}`}>\r\n              #\r\n              {index + 1}\r\n              {' '}\r\n              Resultado:\r\n              {result === true\r\n                ? 'Acertou'\r\n                : 'Errou'}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </Widget.Content>\r\n    </Widget>\r\n  );\r\n}\r\n\r\nfunction LoadingWidget() {\r\n  return (\r\n    <Widget>\r\n      <Widget.Header>\r\n        Carregando...\r\n      </Widget.Header>\r\n\r\n      <Widget.Content style={{ display: 'flex', justifyContent: 'center' }}>\r\n      <Loading />\r\n      </Widget.Content>\r\n    </Widget>\r\n  );\r\n}\r\n\r\nfunction QuestionWidget({\r\n  question,\r\n  questionIndex,\r\n  totalQuestions,\r\n  onSubmit,\r\n  addResult,\r\n}) {\r\n  const [selectedAlternative, setSelectedAlternative] = React.useState(undefined);\r\n  const [isQuestionSubmited, setIsQuestionSubmited] = React.useState(false);\r\n  const questionId = `question__${questionIndex}`;\r\n  const isCorrect = selectedAlternative === question.answer;\r\n  const hasAlternativeSelected = selectedAlternative !== undefined;\r\n\r\n  return (\r\n    <Widget>\r\n      <Widget.Header>\r\n        \r\n        <h3>\r\n          <BackLinkArrow href=\"/\" /> {`Pergunta ${questionIndex + 1} de ${totalQuestions}`}\r\n        </h3>\r\n      </Widget.Header>\r\n\r\n      <img\r\n        alt=\"Descrição\"\r\n        style={{\r\n          width: '100%',\r\n          height: '150px',\r\n          objectFit: 'cover',\r\n        }}\r\n        src={question.image}\r\n      />\r\n      <Widget.Content>\r\n        <h2>\r\n          {question.title}\r\n        </h2>\r\n        <p>\r\n          {question.description}\r\n        </p>\r\n\r\n        <AlternativesForm\r\n          onSubmit={(infosDoEvento) => {\r\n            infosDoEvento.preventDefault();\r\n            setIsQuestionSubmited(true);\r\n            setTimeout(() => {\r\n              addResult(isCorrect);\r\n              onSubmit();\r\n              setIsQuestionSubmited(false);\r\n              setSelectedAlternative(undefined);\r\n            }, 3 * 1000);\r\n          }}\r\n        >\r\n          {question.alternatives.map((alternative, alternativeIndex) => {\r\n            const alternativeId = `alternative__${alternativeIndex}`;\r\n            const alternativeStatus = isCorrect ? 'SUCCESS' : 'ERROR';\r\n            const isSelected = selectedAlternative === alternativeIndex;\r\n            return (\r\n              <Widget.Topic\r\n                as=\"label\"\r\n                key={alternativeId}\r\n                htmlFor={alternativeId}\r\n                data-selected={isSelected}\r\n                data-status={isQuestionSubmited && alternativeStatus}\r\n              >\r\n                <input\r\n                  style={{ display: 'none' }}\r\n                  id={alternativeId}\r\n                  name={questionId}\r\n                  onChange={() => setSelectedAlternative(alternativeIndex)}\r\n                  type=\"radio\"\r\n                />\r\n                {alternative}\r\n              </Widget.Topic>\r\n            );\r\n          })}\r\n          \r\n          <Button type=\"submit\" disabled={!hasAlternativeSelected}>\r\n            Confirmar\r\n          </Button>\r\n          {isQuestionSubmited && isCorrect && <p>Você acertou!</p>}\r\n          {isQuestionSubmited && !isCorrect && <p>Você errou!</p>}\r\n        </AlternativesForm>\r\n      </Widget.Content>\r\n    </Widget>\r\n  );\r\n}\r\n\r\nconst screenStates = {\r\n  QUIZ: 'QUIZ',\r\n  LOADING: 'LOADING',\r\n  RESULT: 'RESULT',\r\n};\r\nexport default function QuizPage({ externalQuestions, externalBg }) {\r\n  const [screenState, setScreenState] = React.useState(screenStates.LOADING);\r\n  const [results, setResults] = React.useState([]);\r\n  const [currentQuestion, setCurrentQuestion] = React.useState(0);\r\n  const questionIndex = currentQuestion;\r\n  const question = externalQuestions[questionIndex];\r\n  const totalQuestions = externalQuestions.length;\r\n  const bg = externalBg;\r\n\r\n  function addResult(result) {\r\n    setResults([\r\n      ...results,\r\n      result,\r\n    ]);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      setScreenState(screenStates.QUIZ);\r\n    }, 1 * 2000);\r\n  }, []);\r\n\r\n  function handleSubmitQuiz() {\r\n    const nextQuestion = questionIndex + 1;\r\n    if (nextQuestion < totalQuestions) {\r\n      setCurrentQuestion(nextQuestion);\r\n    } else {\r\n      setScreenState(screenStates.RESULT);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <QuizBackground backgroundImage={bg}>\r\n      <QuizContainer>\r\n        <QuizLogo />\r\n        {screenState === screenStates.QUIZ && (\r\n          <QuestionWidget\r\n            question={question}\r\n            questionIndex={questionIndex}\r\n            totalQuestions={totalQuestions}\r\n            onSubmit={handleSubmitQuiz}\r\n            addResult={addResult}\r\n          />\r\n        )}\r\n\r\n        {screenState === screenStates.LOADING && <LoadingWidget />}\r\n\r\n        {screenState === screenStates.RESULT && <ResultWidget results={results} />}\r\n      </QuizContainer>\r\n    </QuizBackground>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}